# 油温数据分析

## 油温数据介绍

电力变压器油温数据，由国家电网提供，该数据集是来自中国同一个省的两个不同县的变压器数据，时间跨度为2年，原始数据每分钟记录一次（用 *m* 标记），每个数据集包含2年 * 365天 * 24小时 * 60分钟 = 1,051,200数据点。由于数据量的庞大，将数据粒度改为每15分钟1个数据点，记为ETTm1、ETTm2，或一个小时级别粒度的数据集变体使用（用 *h*标记），记为ETTh1、ETTh2。

每个数据点均包含8维特征，包括数据点记录日期、预测目标值OT(oil temperature)和6个不同类型功率负载特征。

![ETT_data_demo](E:\jupyterFile\gitfiles\jupyter_files\oil_temp\油温数据分析截图\ETT_data_demo.png)

| date | HUFL | HULL | MUFL | MULL | LUFL | LULL | OT |
| --- | --- | --- | --- | --- | --- | --- | --- |
| The recorded date  | High UseFul Load | High UseLess Load | Middle UseFul Load | Middle UseLess Load | Low UseFul Load | Low UseLess Load | Oil Temperature (target) |

## 数据问题介绍

电力分配问题是电网根据顺序变化的需求管理电力分配到不同用户区域。但要预测特定用户区域的未来需求是困难的，因为它随工作日、假日、季节、天气、温度等的不同因素变化而变化。现有预测方法不能适用于长期真实世界数据的高精度长期预测，并且任何错误的预测都可能产生严重的后果。因此当前没有一种有效的方法来预测未来的用电量，管理人员就不得不根据经验值做出决策，而经验值的阈值通常远高于实际需求。保守的策略导致不必要的电力和设备折旧浪费。值得注意的是，变压器的油温可以有效反映电力变压器的工况。因此预测变压器的油温同时可以设法避免不必要的浪费。

此数据集可以用来预测电力变压器的油温并研究电力变压器极限负载能力。

## 数据分析

#### 1. 数据集解释

+ **初步了解数据**

通过导入数据，初步了解数据的相关信息。以ETTh1数据为例进行分析。*【数据展示图如下】*

|      | date                | HUFL  | HULL  | MUFL  | MULL  | LUFL  | LULL  | OT        |
| ---- | ------------------- | ----- | ----- | ----- | ----- | ----- | ----- | --------- |
| 0    | 2016-07-01 00:00:00 | 5.827 | 2.009 | 1.599 | 0.462 | 4.203 | 1.340 | 30.531000 |
| 1    | 2016-07-01 01:00:00 | 5.693 | 2.076 | 1.492 | 0.426 | 4.142 | 1.371 | 27.787001 |
| 2    | 2016-07-01 02:00:00 | 5.157 | 1.741 | 1.279 | 0.355 | 3.777 | 1.218 | 27.787001 |
| 3    | 2016-07-01 03:00:00 | 5.090 | 1.942 | 1.279 | 0.391 | 3.807 | 1.279 | 25.044001 |
| 4    | 2016-07-01 04:00:00 | 5.358 | 1.942 | 1.492 | 0.462 | 3.868 | 1.279 | 21.948000 |

ETTh1数据跨度为2016-07-01 00:00:00-2018-06-26 19:00:00，每小时记录一次，共17420条数据。

通过对数据进行绘图，观察整体趋势。

*【数据集时间分布图如下】*

![Time Plot](E:\jupyterFile\gitfiles\jupyter_files\oil_temp\results\Time Plot.png)

*【OT时间分布图如下】*

![Time Plot of oil temp](E:\jupyterFile\gitfiles\jupyter_files\oil_temp\results\Time Plot of oil temp.png)

可以看出油温数据的变化基本呈波浪线趋势。数据在一定范围内波动，最低值为-4.080000，最高值为46.007000，均值为13.324672。

通过生成的探索性分析报告可以看出数据中的一些信息：

- **概要：**数据类型，唯一值，缺失值，0值的数量
- **分位数统计：**最小值、最大值、中位数、各分位值
- **描述性统计：**均值、众数、标准差、绝对中位差、变异系数、峰值、偏度系数
- **各值出现的数量：**通过直方图进行展示
- **相关性分析可视化：**绘制交互图了解变量间交互关系，Spearman, Pearson等矩阵相关性色阶图突出相关的变量

![EDA图](E:\jupyterFile\gitfiles\jupyter_files\oil_temp\油温数据分析截图\EDA图.png)

==具体内容可查看 profile.html==

+ **相关性分析**

> 0.8-1.0     极强相关
0.6-0.8     强相关
0.4-0.6     中等程度相关
0.2-0.4     弱相关
0.0-0.2     极弱相关或无相关

*【相关性分析图如下】*

1. Pearson 相关系数
   Pearson 相关系数 (r) 是衡量两个变量之间线性相关性的指标。 它的值介于 -1 和 +1 之间，-1 表示完全负线性相关，0 表示没有线性相关，1 表示完全正线性相关。

   ![pearson](E:\jupyterFile\gitfiles\jupyter_files\oil_temp\results\pearson.png)

2. Spearman 秩相关系数
   Spearman 秩相关系数 (ρ) 是衡量两个变量之间单调相关性的指标，因此比 Pearson r 更能捕捉非线性单调相关性。 它的值介于 -1 和 +1 之间，-1 表示完全负单调相关，0 表示没有单调相关，1 表示完全正单调相关。

   ![spearman](E:\jupyterFile\gitfiles\jupyter_files\oil_temp\results\spearman.png)

3. Kendall 等级相关系数 
   与 Spearman 等级相关系数类似，Kendall 等级相关系数 (τ) 衡量两个变量之间的有序关联。 它的值介于 -1 和 +1 之间，-1 表示完全负相关，0 表示不相关，1 表示完全正相关。

   ![kendall](E:\jupyterFile\gitfiles\jupyter_files\oil_temp\results\kendall.png)

通过对各种相关性图的分析，可以看出各个变量间的相关关系，将相关性分为极强、强、中等、弱、无相关性这几种。本数据中的一些具体相关关系为：

> HUFL 与 MUFL 具有极强相关性，与 LUFL 具有弱相关性，与预测变量 OT 无相关性。
HULL 与 MULL 具有强相关性，与 LULL 具有中等相关性，与 LUFL 和预测变量 OT 弱相关性。
MUFL 与 HUFL 具有极强相关性，与 MULL 和 LUFL 具有弱相关性，与预测变量 OT 无相关性。
MULL 与 HULL 具有强相关性，与预测变量 OT 弱相关性。
LUFL 与 LULL 具有中等相关性，与预测变量 OT 无相关性。
LULL 与 LUFL 具有中等相关性，与预测变量 OT 弱相关性。

| 与OT相关性 | HUFL | HULL | MUFL | MULL | LUFL | LULL |
| --- | --- | --- | --- | --- | --- | --- |
|  | 无相关性 | 弱相关性 | 无相关性 | 弱相关性 | 无相关性 | 弱相关性 |

同时生成参数两两之间的散点图进行分析

*【两两参数散点图如下】*

![两两参数散点图](E:\jupyterFile\gitfiles\jupyter_files\oil_temp\results\两两参数散点图.png)

经相关性图和散点图分析可以看出，输入的六个变量与 OT 的相关性都不大，HUFL 与 MUFL 具有较强的正线性相关关系，呈正单调相关；HULL 与 MULL 具有较强的正线性相关关系，呈正单调相关；其余变量间关系都不大。



